# 前端性能优化知识体系导读

从一道面试题说起

## 从输入 URL 到页面加载完成，发生了什么？

1. DNS (域名解析系统) 将 URL 解析为对应的 IP 地址
2. 利用该 IP 地址和服务器建立 TCP 网络连接
3. 客户端向服务端发起 HTTP 请求
4. 服务端处理完请求后把目标数据放在 HTTP 响应中返回给客户端
5. 拿到响应数据的浏览器开始渲染页面，渲染完毕，页面呈现给用户，并时刻等待用户操作

性能优化的方案也就是从上述这 5 个过程进行考虑。

## 网络层面的性能优化

### 优化 DNS 解析时间

- 浏览器 DNS 缓存

查看 Chrome 的 DNS 缓存: chrome://net-internals/#dns 这里可以看各域名的 DNS 缓存时间。chrome 对每个域名会默认缓存 60s。

- DNS prefetch(DNS 预解析)

DNS Prefetch 应该尽量的放在网页的前面，推荐放在 `<meta charset="UTF-8">`后面。具体使用方法如下：

```html
<link rel="dns-prefetch" href="//www.xxxxx.net" />
```

### 优化 TCP 请求的时间

- 长连接

- 预连接

- SPDY

### 优化 HTTP 请求

减少 HTTP 请求次数，减少请求体积

部署静态资源的时候利用 CDN 服务器

## 浏览器层面的性能优化

### 资源加载优化

### 服务端渲染

### 浏览器缓存机制

### DOM 树构建

### 网页排版和渲染过程

### 回流和重绘

### DOM 操作的合理规避

## 思维导图

![思维导图](./1.jpg)
